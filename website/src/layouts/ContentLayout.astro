---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  version?: string;
  date?: string;
  nextPage?: { url: string; label: string };
}

const { title, version, date, nextPage } = Astro.props;
---

<BaseLayout title={`${title} | Human Agency Protocol`}>
    <article class="content">
        {(version || date) && (
            <div class="version-badge-top">
                {version && <span class="version-pill">{version}</span>}
                {date && <span class="version-date">{date}</span>}
            </div>
        )}
        <h1>{title}</h1>
        <slot />
        {nextPage && (
            <div class="next-page">
                <a href={nextPage.url} class="btn btn-primary">
                    Next: {nextPage.label} â†’
                </a>
            </div>
        )}
    </article>
</BaseLayout>

<style>
    .version-badge-top {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.85rem;
        margin-bottom: 1.5rem;
    }

    .version-pill {
        display: inline-block;
        color: var(--text-tertiary);
        background: var(--accent-subtle);
        padding: 0.35rem 0.85rem;
        border-radius: 2rem;
        font-weight: 500;
    }

    .version-date {
        color: var(--text-tertiary);
        font-weight: 400;
    }
</style>
